/**
 * Minified by jsDelivr using Terser v5.7.1.
 * Original file: /npm/adif-parser-ts@0.4.2/dist/adif-parser.umd.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((r="undefined"!=typeof globalThis?globalThis:r||self).adifParser={})}(this,(function(r){"use strict";var e=function(){function r(r){this.obj=r}return r.formatAdi=function(e){return new r(e).format()},r.prototype.format=function(){var e="";if(void 0!==this.obj.header){e+=this.obj.header.text+"\n";var t=this.obj.header;delete t.text,e+=r.formatTags(t),e+="<eoh>\n\n"}if(!this.obj.records)return r.prepReturn(e);for(var i=0,n=this.obj.records;i<n.length;i++){var o=n[i];e+=r.formatTags(o),e+="<eor>\n\n"}return r.prepReturn(e)},r.formatTags=function(r){for(var e="",t=0,i=Object.entries(r);t<i.length;t++){var n=i[t],o=n[0],s=n[1];e+="<"+o+":"+(new TextEncoder).encode(s).byteLength+">"+s+"\n"}return e},r.prepReturn=function(r){return 0===(r=r.trim()).length?r:r+"\n"},r}(),t=function(){function r(r){this.adi=r,this.cursor=0}return r.parseAdi=function(e){return new r(e).parseTopLevel()},r.prototype.parseTopLevel=function(){var r={};if(0===this.adi.length)return r;if("<"!==this.adi[0]){var e={};for(e.text=this.parseHeaderText();this.cursor<this.adi.length;){if(this.parseTagValue(e))break}r.header=e}for(var t=new Array;this.cursor<this.adi.length;){var i=this.parseRecord();Object.keys(i).length>0&&t.push(i)}return t.length>0&&(r.records=t),r},r.prototype.parseHeaderText=function(){var r=this.adi.indexOf("<",this.cursor);return this.cursor=r,this.adi.substring(0,r).trim()},r.prototype.parseRecord=function(){for(var r={};this.cursor<this.adi.length;){if(this.parseTagValue(r))break}return r},r.prototype.parseTagValue=function(r){var e=this.adi.indexOf("<",this.cursor);if(-1===e)return this.cursor=this.adi.length,!0;var t=this.adi.indexOf(">",e),i=this.adi.substring(e+1,t).split(":");if("eor"===i[0].toLowerCase()||"eoh"===i[0].toLowerCase())return this.cursor=t+1,!0;if(i.length<2)throw new Error("Encountered field tag without enough parts near char "+e);var n=i[0].toLowerCase(),o=+i[1];return r[n]=this.adi.substr(t+1,o),this.cursor=t+1+o,!1},r}();r.AdifFormatter=e,r.AdifParser=t,Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=/sm/78c1573258819deaee2d22bc18bb2012a45fef8eb38d7eedbc397dffbf12e107.map